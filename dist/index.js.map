{"version":3,"sources":["../src/index.js"],"names":["URL_START","URL_END","sources","News","sendRequest","url","fetch","then","response","json","data","renderNews","catch","error","createElement","parent","document","body","tagName","attrs","props","element","Object","keys","forEach","attr","setAttribute","assign","style","appendChild","articles","querySelector","display","removeChild","main","class","article","author","description","publishedAt","source","id","name","title","urlToImage","articleBlock","titleBlock","href","target","innerHTML","imageBlock","backgroundImage","infoBlock","authorBlock","dateBlock","slice","timeBlock","descriptionBlock","readMoreBlock","render","header","menu","menuSmall","map","sourceNews","split","join","toUpperCase","logo","width","height","src","sourceNewsSmall","addEventListener","querySelectorAll","elem","classList","remove","add","newsApp"],"mappings":"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","file":"index.js","sourcesContent":["const URL_START = 'https://newsapi.org/v2/top-headlines?sources=';\nconst URL_END = '&apiKey=081377ca5b314ef4b45a9331d41406c4';\nconst sources = ['national-geographic', 'bbc-news', 'the-wall-street-journal'];\n\nclass News {\n\n  sendRequest(url) {\n\n    fetch(url)\n      .then(response => response.json())\n      .then(data => this.renderNews(data))\n      .catch(error => error)\n  }\n\n  createElement({\n    parent = document.body,\n    tagName = 'div',\n    attrs,\n    props\n  }) {\n    let element = document.createElement(tagName);\n    if (attrs) {\n      Object.keys(attrs).forEach(attr => {\n        element.setAttribute(attr, attrs[attr]);\n        if (attr === 'style') {\n          Object.assign(element.style, attrs.style);\n        }\n      });\n    }\n\n    if (props) {\n      Object.assign(element, props);\n    }\n\n    return parent.appendChild(element);\n  }\n\n\n  renderNews({ articles }) {\n    document.querySelector('.menu').style.display = 'none';\n    document.querySelector('.menu-small').style.display = 'block';\n\n    if (document.querySelector('.main-section')) {\n      document.body.removeChild(document.querySelector('.main-section'));\n    }\n\n    const main = this.createElement({ attrs: { class: 'main-section' } });\n\n    articles.forEach((article) => {\n      const { author, description, publishedAt, source: { id, name }, title, url, urlToImage } =\n      article;\n\n      const articleBlock = this.createElement({ parent: main, tagName: 'article' });\n\n      const titleBlock = this.createElement({\n        parent: articleBlock,\n        tagName: 'a',\n        attrs: { class: 'title', href: `${url}`, target: '_blank' },\n        props: { innerHTML: `${title}` }\n      });\n\n      const imageBlock = this.createElement({\n        parent: articleBlock,\n        attrs: { class: 'preview', style: { backgroundImage: `url(${urlToImage})` } }\n      });\n\n      const infoBlock = this.createElement({\n        parent: articleBlock,\n        attrs: { class: 'info' }\n      });\n\n      const authorBlock = this.createElement({\n        parent: infoBlock,\n        tagName: 'span',\n        attrs: { class: 'author' },\n        props: { innerHTML: `${author}` }\n      });\n\n      const dateBlock = this.createElement({\n        parent: infoBlock,\n        tagName: 'span',\n        attrs: { class: 'date' },\n        props: { innerHTML: `${publishedAt.slice(0, 10)}` }\n      });\n\n      const timeBlock = this.createElement({\n        parent: infoBlock,\n        tagName: 'span',\n        attrs: { class: 'time', title: `${url}`\n        },\n        props: { innerHTML: `${publishedAt.slice(12, -1)}` }\n      });\n\n      const descriptionBlock = this.createElement({\n        parent: infoBlock,\n        attrs: { class: 'description' },\n        props: { innerHTML: `${description}` }\n      });\n\n      const readMoreBlock = this.createElement({\n        parent: infoBlock,\n        tagName: 'a',\n        attrs: { class: 'read-more', href: `${url}`, target: '_blank' },\n        props: { innerHTML: 'Read more...' }\n      });\n    })\n  }\n\n  render() {\n\n    const header = this.createElement({\n      attrs: { class: 'header' },\n      props: { innerHTML: 'Stay tuned!' }\n    });\n\n    const menu = this.createElement({ attrs: { class: 'menu' } });\n\n    const menuSmall = this.createElement({ attrs: { class: 'menu-small' } });\n\n    sources.map(source => {\n\n      const url = `${URL_START}${source}${URL_END}`;\n\n      const sourceNews = this.createElement({\n        parent: menu,\n        attrs: { class: `${source}` },\n        props: { innerHTML: `${source.split('-').join(' ').toUpperCase()}` }\n      });\n\n      const logo = this.createElement({\n        parent: sourceNews,\n        tagName: 'img',\n        attrs: { style: { width: '320px', height: '200px' }, src: `img/${source}.png` }\n      });\n\n      const sourceNewsSmall = this.createElement({\n        parent: menuSmall,\n        attrs: { class: `${source}-small` },\n        props: { innerHTML: `${source.split('-').join(' ').toUpperCase()}` }\n      });\n\n      sourceNewsSmall.addEventListener('click', () => {\n        document.querySelectorAll('.active').forEach(elem => elem.classList.remove('active'));\n        sourceNewsSmall.classList.add('active');\n        this.sendRequest(url);\n      });\n\n      sourceNews.addEventListener('click', () => {\n        document.querySelector(`.${source}-small`).classList.add('active');\n        this.sendRequest(url);\n      });\n    })\n  }\n}\n\nconst newsApp = new News();\nnewsApp.render();\n"]}